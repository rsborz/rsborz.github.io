<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Enter — THE STORY</title>
<meta name="description" content="You are a thing that tells itself stories about what it is. Those stories construct the reality you inhabit.">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body { width: 100%; height: 100%; overflow: hidden; background: #050208; }
  canvas { display: block; position: fixed; top: 0; left: 0; }
  #skip {
    position: fixed;
    bottom: 28px;
    right: 28px;
    color: rgba(255,255,255,0.3);
    font-family: Georgia, serif;
    font-size: 13px;
    letter-spacing: 3px;
    cursor: pointer;
    z-index: 10;
    user-select: none;
    text-transform: uppercase;
  }
  #skip:hover { color: rgba(255,255,255,0.7); }
</style>
</head>
<body>
<canvas id="c"></canvas>
<div id="skip">SKIP ›</div>
<script>
(function(){
  var c = document.getElementById('c');
  var ctx = c.getContext('2d');
  var skip = document.getElementById('skip');
  var W, H, start = null, done = false;

  function resize(){
    W = c.width = window.innerWidth;
    H = c.height = window.innerHeight;
  }
  window.addEventListener('resize', resize);
  resize();

  // Easing
  function eo(t){ return 1-Math.pow(1-t,3); }
  function ei(t){ return t*t*t; }
  function eio(t){ return t<0.5?2*t*t:-1+(4-2*t)*t; }
  function eob(t){ var s=1.7; return 1+(s+1)*Math.pow(t-1,3)+s*Math.pow(t-1,2); }
  function cl(v,a,b){ return Math.max(a,Math.min(b,v)); }
  function lr(a,b,t){ return a+(b-a)*cl(t,0,1); }

  // Portals
  function pp(){
    return {
      bh1:{x:W*0.5,y:H*0.5},
      bh2:{x:W*0.25,y:H*0.72},
      bh3:{x:W*0.75,y:H*0.75},
      wh1:{x:W*0.2,y:H*0.25},
      wh2:{x:W*0.8,y:H*0.22}
    };
  }

  // Stars
  var stars=[];
  function mkStars(){
    stars=[];
    for(var i=0;i<80;i++) stars.push({x:Math.random()*2000,y:Math.random()*2000,s:0.3+Math.random()*1.2,f:Math.random()*6.28,sp:0.4+Math.random()});
  }
  mkStars();

  function drawStars(t){
    for(var i=0;i<stars.length;i++){
      var s=stars[i];
      var sx=s.x/2000*W, sy=s.y/2000*H;
      var a=0.15+Math.sin(t*s.sp+s.f)*0.12;
      ctx.beginPath(); ctx.arc(sx,sy,s.s,0,6.28);
      ctx.fillStyle='rgba(196,162,101,'+a+')'; ctx.fill();
    }
  }

  // Trails
  var trails=[];
  function addT(x,y){
    trails.push({x:x,y:y,vx:(Math.random()-0.5)*2,vy:(Math.random()-0.5)*2,l:1,d:0.03+Math.random()*0.03,s:1+Math.random()*1.2});
  }
  function drawT(){
    for(var i=trails.length-1;i>=0;i--){
      var p=trails[i];
      p.x+=p.vx; p.y+=p.vy; p.l-=p.d;
      if(p.l<=0){trails.splice(i,1);continue;}
      ctx.beginPath(); ctx.arc(p.x,p.y,p.s*p.l,0,6.28);
      ctx.fillStyle='rgba(196,162,101,'+(p.l*0.4)+')'; ctx.fill();
    }
  }

  // Portal
  function drawP(x,y,r,white,int,t){
    if(int<=0||r<=0)return;
    ctx.save(); ctx.translate(x,y);
    // Glow
    var g=ctx.createRadialGradient(0,0,0,0,0,r*2.5);
    if(white){
      g.addColorStop(0,'rgba(244,232,209,'+(int*0.5)+')');
      g.addColorStop(0.3,'rgba(196,162,101,'+(int*0.2)+')');
      g.addColorStop(1,'rgba(0,0,0,0)');
    } else {
      g.addColorStop(0,'rgba(0,0,0,'+int+')');
      g.addColorStop(0.4,'rgba(20,5,0,'+(int*0.6)+')');
      g.addColorStop(0.7,'rgba(139,37,0,'+(int*0.1)+')');
      g.addColorStop(1,'rgba(0,0,0,0)');
    }
    ctx.beginPath(); ctx.arc(0,0,r*2.5,0,6.28); ctx.fillStyle=g; ctx.fill();
    // Particles
    for(var i=0;i<12;i++){
      var a=(i/12)*6.28+t*(white?2.2:-2.8);
      var d=r*(0.65+Math.sin(t*3+i)*0.2);
      ctx.beginPath(); ctx.arc(Math.cos(a)*d,Math.sin(a)*d,1+Math.sin(t*2+i)*0.4,0,6.28);
      ctx.fillStyle=white?'rgba(244,232,209,'+(int*0.3)+')':'rgba(196,162,101,'+(int*0.2)+')';
      ctx.fill();
    }
    // Rings
    for(var i=0;i<3;i++){
      ctx.beginPath(); ctx.arc(0,0,r*(0.6+i*0.3),0,6.28);
      ctx.strokeStyle=white?'rgba(196,162,101,'+(int*(0.25-i*0.06))+')':'rgba(139,37,0,'+(int*(0.2-i*0.05))+')';
      ctx.lineWidth=1.2-i*0.3; ctx.stroke();
    }
    // Core
    var cg=ctx.createRadialGradient(0,0,0,0,0,r*0.4);
    if(white){cg.addColorStop(0,'rgba(255,250,240,'+int+')');cg.addColorStop(1,'rgba(244,232,209,'+(int*0.2)+')');}
    else{cg.addColorStop(0,'rgba(0,0,0,'+int+')');cg.addColorStop(1,'rgba(10,3,0,'+(int*0.4)+')');}
    ctx.beginPath(); ctx.arc(0,0,r*0.4,0,6.28); ctx.fillStyle=cg; ctx.fill();
    ctx.restore();
  }

  // Rabbit
  function drawR(x,y,sc,al,flip,hop){
    if(al<=0||sc<=0)return;
    ctx.save();
    ctx.translate(x,y);
    ctx.scale(flip?-sc:sc,sc);
    ctx.globalAlpha=cl(al,0,1);
    var b=hop?Math.abs(Math.sin(hop*3.14))*-14:0;
    ctx.translate(0,b);
    // Shadow
    ctx.beginPath();ctx.ellipse(0,28,9,3,0,0,6.28);ctx.fillStyle='rgba(0,0,0,0.25)';ctx.fill();
    // Body
    ctx.beginPath();ctx.ellipse(0,12,12,16,0,0,6.28);ctx.fillStyle='#d4c8b8';ctx.fill();
    ctx.strokeStyle='rgba(196,162,101,0.25)';ctx.lineWidth=0.7;ctx.stroke();
    // Tail
    ctx.beginPath();ctx.arc(-12,18,4.5,0,6.28);ctx.fillStyle='#ede5da';ctx.fill();
    // Head
    ctx.beginPath();ctx.ellipse(2,-8,9.5,10.5,0,0,6.28);ctx.fillStyle='#ede5da';ctx.fill();ctx.stroke();
    // Ears
    ctx.beginPath();ctx.ellipse(-3,-27,3.5,12,-0.15,0,6.28);ctx.fillStyle='#d4c8b8';ctx.fill();ctx.stroke();
    ctx.beginPath();ctx.ellipse(6,-29,3.5,13,0.2,0,6.28);ctx.fillStyle='#d4c8b8';ctx.fill();ctx.stroke();
    // Eye
    ctx.beginPath();ctx.arc(7,-10,2.2,0,6.28);ctx.fillStyle='#2c1810';ctx.fill();
    ctx.beginPath();ctx.arc(7.8,-11,0.7,0,6.28);ctx.fillStyle='rgba(244,232,209,0.75)';ctx.fill();
    // Nose
    ctx.beginPath();ctx.arc(10.5,-6,1.3,0,6.28);ctx.fillStyle='rgba(180,130,120,0.5)';ctx.fill();
    // Legs
    ctx.beginPath();ctx.ellipse(5,25,3,5.5,0.1,0,6.28);ctx.fillStyle='#d4c8b8';ctx.fill();
    ctx.beginPath();ctx.ellipse(-7,24,4.5,6.5,-0.15,0,6.28);ctx.fillStyle='#cfc2b0';ctx.fill();
    ctx.restore();
  }

  // Rabbit looking around
  function drawRL(x,y,sc,al,look){
    if(al<=0||sc<=0)return;
    ctx.save();
    ctx.translate(x,y);ctx.scale(sc,sc);ctx.globalAlpha=cl(al,0,1);
    // Shadow
    ctx.beginPath();ctx.ellipse(0,28,9,3,0,0,6.28);ctx.fillStyle='rgba(0,0,0,0.25)';ctx.fill();
    // Body
    ctx.beginPath();ctx.ellipse(0,12,12,16,0,0,6.28);ctx.fillStyle='#d4c8b8';ctx.fill();
    ctx.strokeStyle='rgba(196,162,101,0.25)';ctx.lineWidth=0.7;ctx.stroke();
    // Head rotated
    ctx.save();ctx.translate(2,-8);ctx.rotate(look*0.12);
    ctx.beginPath();ctx.ellipse(0,0,9.5,10.5,0,0,6.28);ctx.fillStyle='#ede5da';ctx.fill();ctx.stroke();
    // Ears
    ctx.beginPath();ctx.ellipse(-4,-19,3.5,12,-0.15+look*0.04,0,6.28);ctx.fillStyle='#d4c8b8';ctx.fill();ctx.stroke();
    ctx.beginPath();ctx.ellipse(5,-21,3.5,13,0.2+look*0.04,0,6.28);ctx.fillStyle='#d4c8b8';ctx.fill();ctx.stroke();
    // Eye
    var ex=look*1.5;
    ctx.beginPath();ctx.arc(5+ex,-2,2.2,0,6.28);ctx.fillStyle='#2c1810';ctx.fill();
    ctx.beginPath();ctx.arc(5.8+ex,-3,0.7,0,6.28);ctx.fillStyle='rgba(244,232,209,0.75)';ctx.fill();
    ctx.restore();
    // Legs
    ctx.beginPath();ctx.ellipse(5,25,3,5.5,0.1,0,6.28);ctx.fillStyle='#d4c8b8';ctx.fill();
    ctx.beginPath();ctx.ellipse(-7,24,4.5,6.5,-0.15,0,6.28);ctx.fillStyle='#cfc2b0';ctx.fill();
    ctx.restore();
  }

  // Ouroboros infinity
  function drawOuro(x,y,sc,al,glow){
    ctx.save();ctx.translate(x,y);ctx.scale(sc,sc);ctx.globalAlpha=cl(al,0,1);
    var a=48,b=24;
    ctx.beginPath();
    for(var i=0;i<=80;i++){
      var t=(i/80)*6.28;
      var d=1+Math.sin(t)*Math.sin(t);
      var px=a*Math.cos(t)/d, py=b*Math.sin(t)*Math.cos(t)/d;
      i===0?ctx.moveTo(px,py):ctx.lineTo(px,py);
    }
    ctx.strokeStyle='rgba(196,162,101,'+(al*0.25)+')';ctx.lineWidth=9;ctx.stroke();
    ctx.strokeStyle='rgba(50,80,40,'+(al*0.9)+')';ctx.lineWidth=7;ctx.stroke();
    ctx.strokeStyle='rgba(30,50,25,'+(al*0.4)+')';ctx.lineWidth=2.5;ctx.stroke();
    // Heads & eyes
    var hx=a*0.9;
    // Right head
    ctx.beginPath();ctx.ellipse(hx,2,6.5,4.5,0.1,0,6.28);ctx.fillStyle='rgba(55,85,45,'+al+')';ctx.fill();
    ctx.beginPath();ctx.arc(hx+3,0.5,1.8,0,6.28);ctx.fillStyle='rgba(255,200,50,'+glow+')';ctx.fill();
    if(glow>0.3){
      var eg=ctx.createRadialGradient(hx+3,0.5,0,hx+3,0.5,7);
      eg.addColorStop(0,'rgba(255,200,50,'+(glow*0.35)+')');eg.addColorStop(1,'rgba(255,200,50,0)');
      ctx.beginPath();ctx.arc(hx+3,0.5,7,0,6.28);ctx.fillStyle=eg;ctx.fill();
    }
    ctx.beginPath();ctx.ellipse(hx+3,0.5,0.6,1.2,0,0,6.28);ctx.fillStyle='rgba(0,0,0,'+al+')';ctx.fill();
    // Left head
    ctx.beginPath();ctx.ellipse(-hx,-2,6.5,4.5,3.24,0,6.28);ctx.fillStyle='rgba(55,85,45,'+al+')';ctx.fill();
    ctx.beginPath();ctx.arc(-hx-3,-0.5,1.8,0,6.28);ctx.fillStyle='rgba(255,200,50,'+glow+')';ctx.fill();
    if(glow>0.3){
      var eg2=ctx.createRadialGradient(-hx-3,-0.5,0,-hx-3,-0.5,7);
      eg2.addColorStop(0,'rgba(255,200,50,'+(glow*0.35)+')');eg2.addColorStop(1,'rgba(255,200,50,0)');
      ctx.beginPath();ctx.arc(-hx-3,-0.5,7,0,6.28);ctx.fillStyle=eg2;ctx.fill();
    }
    ctx.beginPath();ctx.ellipse(-hx-3,-0.5,0.6,1.2,0,0,6.28);ctx.fillStyle='rgba(0,0,0,'+al+')';ctx.fill();
    ctx.restore();
  }

  // Book / Tome
  function drawBook(x,y,sc,al,eyeG){
    ctx.save();ctx.translate(x,y);ctx.scale(sc,sc);ctx.globalAlpha=cl(al,0,1);
    var bw=110,bh=150;
    // Shadow
    ctx.fillStyle='rgba(0,0,0,0.35)';ctx.fillRect(-bw+5,-bh+5,bw*2,bh*2);
    // Cover
    var lg=ctx.createLinearGradient(-bw,-bh,bw,bh);
    lg.addColorStop(0,'#3a1f0e');lg.addColorStop(0.5,'#4a2a14');lg.addColorStop(1,'#2a1508');
    ctx.fillStyle=lg;ctx.fillRect(-bw,-bh,bw*2,bh*2);
    // Borders
    ctx.strokeStyle='rgba(196,162,101,0.35)';ctx.lineWidth=2;
    ctx.strokeRect(-bw+9,-bh+9,(bw-9)*2,(bh-9)*2);
    ctx.strokeStyle='rgba(196,162,101,0.18)';ctx.lineWidth=1;
    ctx.strokeRect(-bw+15,-bh+15,(bw-15)*2,(bh-15)*2);
    // Spine
    var sp=ctx.createLinearGradient(-bw,0,-bw+18,0);
    sp.addColorStop(0,'rgba(0,0,0,0.45)');sp.addColorStop(1,'rgba(255,255,255,0.02)');
    ctx.fillStyle=sp;ctx.fillRect(-bw,-bh,18,bh*2);
    // Title
    ctx.fillStyle='rgba(196,162,101,0.85)';ctx.textAlign='center';ctx.textBaseline='middle';
    ctx.font='600 16px Georgia,serif';ctx.fillText('THE',0,-38);
    ctx.font='bold 26px Georgia,serif';ctx.fillText('STORY',0,-8);
    ctx.beginPath();ctx.moveTo(-28,10);ctx.lineTo(28,10);
    ctx.strokeStyle='rgba(196,162,101,0.4)';ctx.lineWidth=1;ctx.stroke();
    // Ouroboros
    drawOuro(0,58,0.5,al,eyeG);
    // Author
    ctx.fillStyle='rgba(196,162,101,0.45)';ctx.font='italic 10px Georgia,serif';
    ctx.fillText('Ronald Morris Sborz Jr.',0,112);
    ctx.restore();
  }

  // Vortex
  function drawV(x,y,r,rot,al){
    ctx.save();ctx.translate(x,y);ctx.rotate(rot);ctx.globalAlpha=cl(al,0,1);
    for(var a=0;a<5;a++){
      var aa=(a/5)*6.28;
      ctx.beginPath();
      for(var i=0;i<50;i++){
        var t=i/50,rr=r*t,ang=aa+t*12.56;
        var px=Math.cos(ang)*rr,py=Math.sin(ang)*rr;
        i===0?ctx.moveTo(px,py):ctx.lineTo(px,py);
      }
      ctx.strokeStyle='rgba(196,162,101,'+(al*(0.25-a*0.04))+')';ctx.lineWidth=1.8;ctx.stroke();
    }
    ctx.restore();
  }

  // ===== MAIN LOOP =====
  function frame(ts){
    if(done)return;
    if(!start)start=ts;
    var t=(ts-start)/1000;
    var p=pp();

    ctx.fillStyle='#050208';
    ctx.fillRect(0,0,W,H);
    drawStars(t);
    drawT();

    // Phase 1: Rabbit hops in, BH at center (0-1)
    if(t<1){
      var e=eo(t);
      drawP(p.bh1.x,p.bh1.y,22+e*12,false,e,t);
      drawR(lr(-40,W*0.63,e),p.bh1.y+5,0.75,e,false,e*4);
    }
    // Phase 2: Rabbit into center BH (1-2)
    else if(t<2){
      var e=(t-1);
      drawP(p.bh1.x,p.bh1.y,34,false,1,t);
      if(e<0.7){
        var m=eio(e/0.7);
        var rx=lr(W*0.63,p.bh1.x,m);
        var arc=m>0.3?Math.sin((m-0.3)/0.7*3.14)*-38:0;
        drawR(rx,p.bh1.y+5+arc,lr(0.75,0.15,m),1-m*0.5,false,e*6);
        if(Math.random()<0.5)addT(rx,p.bh1.y+20+arc);
      }
      if(e>0.65){drawP(p.bh1.x,p.bh1.y,34+(e-0.65)/0.35*14,false,1.3,t);}
    }
    // Phase 3: WH upper-left, rabbit exits (2-3)
    else if(t<3){
      var e=t-2;
      drawP(p.bh1.x,p.bh1.y,34,false,Math.max(0,1-e*3.5),t);
      var ws=eob(cl(e*2,0,1));
      drawP(p.wh1.x,p.wh1.y,24*ws,true,cl(e*2.5,0,1),t);
      if(e>0.28){
        var rt=(e-0.28)/0.72;
        var ps=eob(cl(rt*2,0,1));
        drawRL(p.wh1.x+28,p.wh1.y+10,0.65*ps,cl(rt*2,0,1),Math.sin(rt*9.4)*1.4);
      }
      if(e>0.55){drawP(p.bh2.x,p.bh2.y,18+((e-0.55)/0.45)*12,false,((e-0.55)/0.45)*0.8,t);}
    }
    // Phase 4: Rabbit to BH bottom-left (3-4)
    else if(t<4){
      var e=t-3;
      drawP(p.wh1.x,p.wh1.y,24,true,Math.max(0,1-e*2.5),t);
      drawP(p.bh2.x,p.bh2.y,30,false,1,t);
      if(e<0.55){
        var m=eio(e/0.55);
        var rx=lr(p.wh1.x+28,p.bh2.x,m);
        var ry=lr(p.wh1.y+10,p.bh2.y,m);
        var arc=Math.sin(m*3.14)*-32;
        drawR(rx,ry+arc,lr(0.65,0.45,m),1,true,e*6);
        if(Math.random()<0.4)addT(rx,ry+arc+14);
      } else {
        var st=(e-0.55)/0.45;
        var sc=lr(0.45,0,ei(st));
        if(sc>0.04)drawR(p.bh2.x,p.bh2.y,sc,1-st,true,e*6);
        drawP(p.bh2.x,p.bh2.y,30+st*10,false,1+st*0.3,t);
      }
    }
    // Phase 5: WH upper-right, rabbit exits (4-5)
    else if(t<5){
      var e=t-4;
      drawP(p.bh2.x,p.bh2.y,30,false,Math.max(0,1-e*3.5),t);
      var ws=eob(cl(e*2,0,1));
      drawP(p.wh2.x,p.wh2.y,24*ws,true,cl(e*2.5,0,1),t);
      if(e>0.22){
        var rt=(e-0.22)/0.78;
        var ps=eob(cl(rt*2,0,1));
        drawRL(p.wh2.x-24,p.wh2.y+10,0.65*ps,cl(rt*2,0,1),Math.sin(rt*7.8)*1.6);
      }
      if(e>0.5){drawP(p.bh3.x,p.bh3.y,18+((e-0.5)/0.5)*12,false,((e-0.5)/0.5)*0.8,t);}
    }
    // Phase 6: Rabbit to BH bottom-right, vanishes (5-6)
    else if(t<6){
      var e=t-5;
      drawP(p.wh2.x,p.wh2.y,24,true,Math.max(0,1-e*2.8),t);
      drawP(p.bh3.x,p.bh3.y,30,false,1,t);
      if(e<0.5){
        var m=eio(e/0.5);
        var rx=lr(p.wh2.x-24,p.bh3.x,m);
        var ry=lr(p.wh2.y+10,p.bh3.y,m);
        var arc=Math.sin(m*3.14)*-35;
        drawR(rx,ry+arc,lr(0.65,0.4,m),1,true,e*7);
        if(Math.random()<0.4)addT(rx,ry+arc+14);
      } else {
        var st=(e-0.5)/0.5;
        var sc=lr(0.4,0,ei(st));
        if(sc>0.04)drawR(p.bh3.x,p.bh3.y,sc,1-st,true,e*7);
        drawP(p.bh3.x,p.bh3.y,30+st*12,false,1+st*0.3,t);
      }
    }
    // Phase 7: White dot grows center (6-8)
    else if(t<8){
      var e=(t-6)/2;
      if(e<0.25)drawP(p.bh3.x,p.bh3.y,30,false,(1-e/0.25)*0.4,t);
      var dotR=eo(e)*Math.min(W,H)*0.22;
      var cg=ctx.createRadialGradient(W/2,H/2,0,W/2,H/2,dotR||1);
      cg.addColorStop(0,'rgba(255,252,245,'+(0.3+e*0.7)+')');
      cg.addColorStop(0.35,'rgba(244,232,209,'+(0.2+e*0.5)+')');
      cg.addColorStop(0.7,'rgba(196,162,101,'+(e*0.15)+')');
      cg.addColorStop(1,'rgba(0,0,0,0)');
      ctx.beginPath();ctx.arc(W/2,H/2,dotR||1,0,6.28);ctx.fillStyle=cg;ctx.fill();
      if(e>0.35){
        var ct=(e-0.35)/0.65;
        ctx.beginPath();ctx.arc(W/2,H/2,dotR*0.55,-1.57,-1.57+6.28*eo(ct));
        ctx.strokeStyle='rgba(196,162,101,'+(ct*0.55)+')';ctx.lineWidth=1.8;ctx.stroke();
      }
    }
    // Phase 8: Book approaches, eyes glow (8-10.5)
    else if(t<10.5){
      var e=(t-8)/2.5;
      var bg=ctx.createRadialGradient(W/2,H/2,0,W/2,H/2,Math.min(W,H)*0.35);
      bg.addColorStop(0,'rgba(244,232,209,0.06)');bg.addColorStop(1,'rgba(0,0,0,0)');
      ctx.beginPath();ctx.arc(W/2,H/2,Math.min(W,H)*0.35,0,6.28);ctx.fillStyle=bg;ctx.fill();
      var bsc=eo(cl(e*1.15,0,1))*1.7+0.25;
      var bal=eo(cl(e*2,0,1));
      var eg=e>0.35?eio(cl((e-0.35)/0.3,0,1)):0;
      drawBook(W/2,H/2,bsc,bal,eg);
    }
    // Phase 9: Book opens, text (10.5-12)
    else if(t<12){
      var e=(t-10.5)/1.5;
      drawBook(W/2,H/2,1.95,1-e*0.35,1);
      var ow=eo(e)*W*0.65,oh=eo(e)*H*0.55;
      var og=ctx.createRadialGradient(W/2,H/2,0,W/2,H/2,Math.max(ow,oh)||1);
      og.addColorStop(0,'rgba(244,232,209,'+(e*0.82)+')');
      og.addColorStop(0.7,'rgba(232,213,180,'+(e*0.55)+')');
      og.addColorStop(1,'rgba(0,0,0,0)');
      ctx.fillStyle=og;ctx.fillRect(W/2-ow/2,H/2-oh/2,ow,oh);
      if(e>0.18){
        var ta=eo(cl((e-0.18)/0.35,0,1));
        ctx.save();ctx.globalAlpha=ta;
        ctx.fillStyle='#2c1810';ctx.textAlign='center';ctx.textBaseline='middle';
        ctx.font='italic 15px Georgia,serif';
        ctx.fillText('You are a thing that tells itself',W/2,H/2-28);
        ctx.fillText('stories about what it is.',W/2,H/2-6);
        ctx.font='italic 12px Georgia,serif';ctx.fillStyle='rgba(44,24,16,0.55)';
        ctx.fillText('Those stories construct the reality you inhabit.',W/2,H/2+24);
        ctx.restore();
      }
      if(e>0.78){
        ctx.fillStyle='rgba(244,232,209,'+((e-0.78)/0.22*0.35)+')';
        ctx.fillRect(W/2,0,W/2*((e-0.78)/0.22),H);
      }
    }
    // Phase 10: Spiral vortex (12-13.5)
    else if(t<13.5){
      var e=(t-12)/1.5;
      var pa=1-ei(e);
      var pg=ctx.createRadialGradient(W/2,H/2,0,W/2,H/2,Math.min(W,H)*0.35);
      pg.addColorStop(0,'rgba(244,232,209,'+(pa*0.6)+')');pg.addColorStop(1,'rgba(0,0,0,0)');
      ctx.fillStyle=pg;ctx.fillRect(0,0,W,H);
      drawV(W/2,H/2,lr(40,Math.min(W,H)*0.45,eo(e)),e*18.84,1-e*0.55);
      if(e<0.4){
        ctx.save();ctx.globalAlpha=(0.4-e)/0.4*0.5;
        ctx.fillStyle='#2c1810';ctx.textAlign='center';
        ctx.font='italic 15px Georgia,serif';
        ctx.fillText('You are a thing that tells itself',W/2,H/2-28);
        ctx.fillText('stories about what it is.',W/2,H/2-6);
        ctx.restore();
      }
    }
    // Phase 11: Fade out (13.5-15)
    else if(t<15){
      var e=(t-13.5)/1.5;
      ctx.fillStyle='rgba(26,14,5,'+ei(e)+')';ctx.fillRect(0,0,W,H);
    }
    else {
      finish();
      return;
    }

    requestAnimationFrame(frame);
  }

  function finish(){
    if(done)return;
    done=true;
    window.location.href='book.html';
  }

  // Skip
  skip.addEventListener('click',function(){finish();});
  document.addEventListener('keydown',function(e){finish();});
  c.addEventListener('touchstart',function(){finish();});

  // GO
  requestAnimationFrame(frame);
})();
</script>
</body>
</html>
